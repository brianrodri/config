$schema: https://raw.githubusercontent.com/JanDeDobbeleer/oh-my-posh/main/themes/schema.json
final_space: true
version: 3
blocks:
  - alignment: left
    type: prompt
    newline: true
    segments:
      - foreground: transparent
        background: green
        style: powerline
        template: " {{.Icon}}"
        type: os
      - foreground: transparent
        background: green
        style: powerline
        template: " <b>{{ .UserName }}</b> "
        type: session
      - foreground: green
        background: "#414b50"
        powerline_symbol: ""
        style: powerline
        type: path
        template: " {{ .Path }} "
        properties:
          home_icon: " "
          folder_icon: " "
          style: full
      - foreground: "#414b50"
        background: "#2e383c"
        style: accordion
        powerline_symbol: ""
        type: plain
        template: " "
      - background_templates:
          - "{{ if or (.Working.Changed) (.Staging.Changed) }}yellow{{ end }}"
          - "{{ if and (gt .Ahead 0) (gt .Behind 0) }}yellow{{ end }}"
          - "{{ if gt .Ahead 0 }}cyan{{ end }}"
          - "{{ if gt .Behind 0 }}cyan{{ end }}"
        foreground: "#2e383c"
        background: green
        powerline_symbol: " "
        style: powerline
        template:
          " <b>{{ .HEAD }}</b>{{ if .BranchStatus }} {{ .BranchStatus }}{{ end }}{{ if
          .Working.Changed }}  {{ .Working.String }}{{ end }}{{ if
          .Staging.Changed }}  {{ .Staging.String }}{{ end }}{{ if gt
          .StashCount 0 }}  {{ .StashCount }}{{ end }} "
        type: git
        properties:
          fetch_stash_count: true
          fetch_status: true
          branch_icon: " "
  - alignment: left
    type: prompt
    newline: true
    segments:
      - foreground_templates:
          - "{{ if gt .Code 0 }}red{{ end }}"
          - "{{ if eq .Code 0 }}green{{ end }}"
        style: plain
        template: ❯
        type: text
  - overflow: hidden
    type: rprompt
    segments:
      - foreground_templates:
          - "{{ if gt .Code 0 }}red{{ end }}"
          - "{{ if eq .Code 0 }}yellow{{ end }}"
        foreground: yellow
        style: plain
        template: "{{ .FormattedMs }}"
        type: executiontime
        properties:
          threshold: 1000
transient_prompt:
  foreground_templates:
    - "{{ if gt .Code 0 }}red{{ end }}"
    - "{{ if eq .Code 0 }}green{{ end }}"
  style: plain
  template: "❯ "
  type: text
secondary_prompt:
  foreground: green
  template: "❯❯ "
